
<html><head>
    <script src="https://cdn.rawgit.com/konvajs/konva/2.0.3/konva.min.js"></script>
    <meta charset="utf-8">
    <title>Konva Drag and Drop an Image Demo</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background-image: ".\game\cenario.png";
        }
    </style>
</head>
<body style="cursor: default;">
<div id="container">
    <div class="konvajs-content" role="presentation" style="position: relative; width: 758px; height: 300px;">
        <canvas width="758" height="300" style="padding: 0px; margin: 0px; border: 0px; background: black; position: absolute; top: 0px; left: 0px; width: 758px; height: 300px;">

        </canvas>
    </div>
</div>
<script>
    var width = window.innerWidth;
    var height = window.innerHeight;

    function drawImage() {
        var stage = new Konva.Stage({
            container: 'container',
            width: width,
            height: height
        });

        var layer = new Konva.Layer();
        // darth vader
        var darthVaderImg = new Konva.Image({
            image: imageObj,
            x: 500,
            y: 400,
            width: 100,
            height: 137,
            draggable: true
        });

        var darthVaderImg2 = new Konva.Image({
            image: imageCenario,
            x: 0,
            y:  0,
            width: stage.getWidth(),
            height: stage.getHeight()
        });

         var darthVaderImg3 = new Konva.Image({
            image: imageCenario2,
            x: 100,
            y:  330,
            width: 20,
            height: 200,
            draggable: true
        });

        // add cursor styling
        darthVaderImg.on('mouseover', function() {
            document.body.style.cursor = 'pointer';
        });
        darthVaderImg.on('mouseout', function() {
            document.body.style.cursor = 'default';
        });
        darthVaderImg3.on('mouseover', function() {
            document.body.style.cursor = 'pointer';
        });
        darthVaderImg3.on('mouseout', function() {
            document.body.style.cursor = 'default';
        });

        
        layer.add(darthVaderImg2);
        layer.add(darthVaderImg);
        layer.add(darthVaderImg3);
       
        stage.add(layer);
    }
    var imageObj = new Image();
    imageObj.onload = onLoadImage;
    imageObj.src = './vidraria/BalaoVolumetrico.png';

    var imageCenario = new Image();

    var imageCenario2 = new Image();
    imageCenario2.src = './vidraria/pipeta.png';
    imageCenario2.onload = onLoadImage;

    function onLoadImage() {
        if (loadedImages == 2)
            drawImage();
        else
            loadedImages++;
    };
   
    var loadedImages = 0;
     imageCenario.onload = onLoadImage;
     imageCenario.src = './cenario.png';
</script>


</body>
</html>
